import{_ as s,c as t,o as i,ag as e}from"./chunks/framework.V1ghUkRo.js";const p="/tutorials/assets/commit_what-is-1.C_GgdjFl.png",n="/tutorials/assets/commit_what-is-2.D2pyJFQp.png",o="/tutorials/assets/commit_what-is-practice.B58KG984.png",l="/tutorials/assets/commit_usage-1.B_3abnPp.png",_=JSON.parse('{"title":"提交","description":"","frontmatter":{},"headers":[],"relativePath":"startup/git/commit.md","filePath":"startup/git/commit.md"}'),c={name:"startup/git/commit.md"};function d(h,a,r,g,m,k){return i(),t("div",null,[...a[0]||(a[0]=[e('<h1 id="提交" tabindex="-1">提交 <a class="header-anchor" href="#提交" aria-label="Permalink to &quot;提交&quot;">​</a></h1><h2 id="什么是提交" tabindex="-1">什么是提交？ <a class="header-anchor" href="#什么是提交" aria-label="Permalink to &quot;什么是提交？&quot;">​</a></h2><p>假如你正在 coding，每做出一个阶段的更改，你就希望保存一个小版本，这样你以后可以回头查看这个版本我在这个版本做了什么修改、这个修改在代码层面是怎么完成的。</p><p>那么 Git 的提交（commit）就是干这个的——它能为你<strong>记录某个时间点所有的文件变化</strong>，包括新增、修改、删除等，相当于你在做出修改后为项目拍的一张“快照”。</p><p>举个栗子，现在我在初始化好的仓库里新建了一个文件 a.txt，那么我们就可以创建一个提交以保存此更改。 <img src="'+p+'" alt="原理图1-新建提交"></p><p>其中，“添加 a.txt”就是我们给这个提交设定的消息（暂且可以看成一个名称），当然你高兴也可以不这么写，毕竟只是个消息，像“Hello, world!”之类的也不是不行。 <img src="'+n+'" alt="原理图2-换一个名字的新提交"></p><h4 id="那么-如何操作呢" tabindex="-1">那么，如何操作呢？ <a class="header-anchor" href="#那么-如何操作呢" aria-label="Permalink to &quot;那么，如何操作呢？&quot;">​</a></h4><p>首先需要告诉 Git 哪些更改需要被提交，这个操作叫做“暂存”，在后面我们会学习到。如果新建或者修改了文件，就用 <code>add</code> 命令，被重命名或移动了则使用 <code>mv</code>，被删除了则用 <code>rm</code>。这里我们新建了文件，就这样：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a.txt</span></span></code></pre></div><p>这样我们就让 Git 知道了：哦~你新建了一个 a.txt 文件。接下来，就把它提交吧。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Hello, world!&quot;</span></span></code></pre></div><p>不出意外的话，你的第一个提交就这样创建好了！ <img src="'+o+`" alt="实践输出"><em>注：此处方括号里的</em> <code>e2931af</code> <em>就是该提交的哈希。</em></p><h2 id="什么是哈希" tabindex="-1">什么是哈希？ <a class="header-anchor" href="#什么是哈希" aria-label="Permalink to &quot;什么是哈希？&quot;">​</a></h2><p>敏锐且聪明且智慧的你可能会发现：明明这上面两个提交做的是同一件事，但为什么右边深色框框里的代码内容不一样呢？</p><p>其实这就是提交的哈希值（hash）——通过 SHA-1 算法生成的 40 位的 <strong>16 进制数字</strong>，而一般使用只取其前 7 位。但由于计算要素包含消息、时间、作者等多个内容，几乎可以将其看作为随机生成的。</p><p>提交的哈希不同于消息，一个仓库可以存在多个同消息提交，但<strong>每一个提交的哈希必须是唯一的</strong>，作为该提交的唯一标识。换句话说，Git 要想找到一个提交，那么只能从哈希找而不是消息。</p><div class="tip custom-block"><p class="custom-block-title">小测验</p><p>以下是一个提交的信息，你能判断出 Git 要想找到它要依靠什么吗？</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>commit e2931afd303460aaf0d12ca1e9fdc2f28fda04e5 (HEAD -&gt; master)</span></span>
<span class="line"><span>Author: crrashh1542 &lt;1542@crrashh.com&gt;</span></span>
<span class="line"><span>Date:   Wed Nov 12 16:31:34 2025 +0800</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    Hello, world!</span></span></code></pre></div></div><h2 id="提交有啥用" tabindex="-1">提交有啥用？ <a class="header-anchor" href="#提交有啥用" aria-label="Permalink to &quot;提交有啥用？&quot;">​</a></h2><p>完成一次提交之后，你就有了一个“<strong>历史状态</strong>”，你可以随时回到这个提交的状态，查看代码的修改情况，查看项目当时的状态，甚至恢复到那个版本，这让开发过程安全、可追溯。</p><p>举个栗子，你创建 a.txt 之后又往里面写了点内容，然后你 <code>git add</code> 并 <code>git commit</code> 又一顿输出搓了第二个提交。 <img src="`+l+'" alt="原理图3-第二个提交"></p><p>欸欸欸，你说“能随时回到这个提交的状态”，是真的吗？</p><p>当然！只要用 <code>checkout</code> 找到这个提交，就能回去啦！</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0000abc（实践时将其改为第一个提交的哈希）</span></span></code></pre></div><p>这个时候再打开 a.txt，是不是很神奇？你刚才写进去的东西没了！Get！时空回溯能力已掌握！</p><p>但是，怎么回去呢？！！</p><p>——且听下回分解！（笑）</p>',26)])])}const b=s(c,[["render",d]]);export{_ as __pageData,b as default};
